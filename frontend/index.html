<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leaflet + PostGIS - Florencia</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Leaflet Draw -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>

  <!-- Routing Machine -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

  <!-- Geocoder -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- MarkerCluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- Tus estilos -->
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <div class="topbar">
    <h3>Leaflet â‡„ PostGIS - Florencia</h3>
    <div class="legend">Puntos (azul), rutas (rojo), zonas (verde)</div>
  </div>

  <!-- âœ… PANEL DE CAPAS -->
  <div id="panel-capas" class="panel">
    <h3>Capas</h3>
    <label><input type="checkbox" id="chkBarrios" checked> Barrios</label><br>
    <label><input type="checkbox" id="chkHidrografia" checked> HidrografÃ­a</label><br>
    <label><input type="checkbox" id="chkEquipamientos" checked> Equipamientos</label><br>
    <label><input type="checkbox" id="chkSitios" checked> Sitios de interÃ©s</label><br>
    <label><input type="checkbox" id="chkResultados"> Resultados</label>
  </div>

  <!-- âœ… PANEL DE REPORTES -->
  <div id="panel-reportes" class="panel">
    <h3>ðŸ“Š Reportes de Consultas</h3>

    <!-- Resumen por tipo -->
    <div id="resumen-tipo" class="subpanel">
      <h4>Resumen por tipo</h4>
      <ul id="lista-resumen">
        <!-- Se llenarÃ¡ dinÃ¡micamente -->
        <li>EducaciÃ³n: 0</li>
        <li>Salud: 0</li>
        <li>Seguridad: 0</li>
      </ul>
    </div>

    <!-- Detalle por punto -->
    <div id="detalle-equipamientos" class="subpanel">
      <h4>Detalle de Equipamientos</h4>
      <table id="tabla-equipamientos">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Tipo</th>
            <th>Barrio</th>
            <th>Distancia (m)</th>
          </tr>
        </thead>
        <tbody>
          <!-- Se llenarÃ¡ dinÃ¡micamente -->
        </tbody>
      </table>
    </div>
  </div>

  <div id="panel-consultas" class="panel1">
    <h3>Consultas</h3>
    <div class="subpanel">
      <h4>Buffer por Clic</h4>
      <label for="buffer-radius">Radio (m):</label>
      <input type="number" id="buffer-radius" value="250" min="10" style="width: 80px;">
      <button id="btn-activar-buffer">Activar Buffer</button>
      <p id="buffer-status" style="font-size: 0.8em; color: grey;"></p>
    </div>
    <div class="subpanel">
  <h4>Buscador</h4>
  <input type="text" id="search-input" placeholder="Buscar por nombre..." style="width: 100%;">
  <button id="btn-buscar">Buscar</button>
  <ul id="search-results" style="font-size:0.9em; color:#333; margin-top:8px;"></ul>
</div>

  </div>



  <div id="map"></div>

  <div id="map"></div>

  <!-- Tu script principal -->
  <script type="module" src="js/main.js"></script>
</body>

</html>